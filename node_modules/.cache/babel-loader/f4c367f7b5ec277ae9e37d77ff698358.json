{"ast":null,"code":"import _regeneratorRuntime from\"/Users/goesamee/Documents/Work/GSI/External Content/DynamoDB_Streaming_Blog/BlogTemplate/ddb-streaming-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/goesamee/Documents/Work/GSI/External Content/DynamoDB_Streaming_Blog/BlogTemplate/ddb-streaming-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import'./App.css';import Amplify,{API}from'aws-amplify';import{withAuthenticator,AmplifySignOut}from'@aws-amplify/ui-react';import awsconfig from'./aws-exports';import Toast from'light-toast';import*as mutations from'./graphql/mutations';import*as queries from'./graphql/queries';Amplify.configure(awsconfig);function App(){var todoUpdateYes={name:'Subscribe',value:'Yes'};var todoUpdateNo={name:'Subscribe',value:'No'};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newTodo,temp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.graphql({query:queries.listTodos});case 2:newTodo=_context.sent;// console.log(newTodo);\ntemp=Math.floor(Math.random()*6)+1;console.log(temp);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function updateYes(){return _updateYes.apply(this,arguments);}function _updateYes(){_updateYes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.graphql({query:mutations.createTodo,variables:{input:todoUpdateYes}});case 2:Toast.success('Subscribed');case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _updateYes.apply(this,arguments);}function updateNo(){return _updateNo.apply(this,arguments);}function _updateNo(){_updateNo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return API.graphql({query:mutations.createTodo,variables:{input:todoUpdateNo}});case 2:Toast.success('Unsubscribed');case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _updateNo.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(AmplifySignOut,null),/*#__PURE__*/React.createElement(\"header\",{className:\"App-header\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Would you like to subscribe emails?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"App-buttons\"},/*#__PURE__*/React.createElement(\"button\",{className:\"App-buttonsYes\",onClick:updateYes},\"Subscribe\"),/*#__PURE__*/React.createElement(\"button\",{className:\"App-buttonsNo\",onClick:updateNo},\"Unsubscribe\"))));}export default withAuthenticator(App);","map":{"version":3,"sources":["/Users/goesamee/Documents/Work/GSI/External Content/DynamoDB_Streaming_Blog/BlogTemplate/ddb-streaming-ui/src/App.js"],"names":["React","useEffect","Amplify","API","withAuthenticator","AmplifySignOut","awsconfig","Toast","mutations","queries","configure","App","todoUpdateYes","name","value","todoUpdateNo","fetchData","graphql","query","listTodos","newTodo","temp","Math","floor","random","console","log","updateYes","createTodo","variables","input","success","updateNo"],"mappings":"6bAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,OAAP,EAAiBC,GAAjB,KAA2B,aAA3B,CACA,OAASC,iBAAT,CAA4BC,cAA5B,KAAkD,uBAAlD,CACA,MAAOC,CAAAA,SAAP,KAAsB,eAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,qBAA3B,CACA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,mBAAzB,CACAP,OAAO,CAACQ,SAAR,CAAkBJ,SAAlB,EAGA,QAASK,CAAAA,GAAT,EAAe,CAEb,GAAMC,CAAAA,aAAa,CAAG,CACpBC,IAAI,CAAE,WADc,CAEpBC,KAAK,CAAE,KAFa,CAAtB,CAKA,GAAMC,CAAAA,YAAY,CAAG,CACnBF,IAAI,CAAE,WADa,CAEnBC,KAAK,CAAE,IAFY,CAArB,CAKAb,SAAS,CAAC,UAAM,SACCe,CAAAA,SADD,qIACd,0KACsBb,CAAAA,GAAG,CAACc,OAAJ,CAAY,CAAEC,KAAK,CAAET,OAAO,CAACU,SAAjB,CAAZ,CADtB,QACMC,OADN,eAEA;AACMC,IAHN,CAGaC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,CAA3B,EAAgC,CAH7C,CAIAC,OAAO,CAACC,GAAR,CAAYL,IAAZ,EAJA,sDADc,4CAOhBL,SAAS,GACR,CARQ,CAQN,EARM,CAAT,CAZa,QAsBEW,CAAAA,SAtBF,qIAsBb,+JACQxB,CAAAA,GAAG,CAACc,OAAJ,CAAY,CAAEC,KAAK,CAAEV,SAAS,CAACoB,UAAnB,CAA+BC,SAAS,CAAE,CAACC,KAAK,CAAElB,aAAR,CAA1C,CAAZ,CADR,QAEEL,KAAK,CAACwB,OAAN,CAAc,YAAd,EAFF,wDAtBa,oDA2BEC,CAAAA,QA3BF,kIA2Bb,+JACQ7B,CAAAA,GAAG,CAACc,OAAJ,CAAY,CAAEC,KAAK,CAAEV,SAAS,CAACoB,UAAnB,CAA+BC,SAAS,CAAE,CAACC,KAAK,CAAEf,YAAR,CAA1C,CAAZ,CADR,QAEER,KAAK,CAACwB,OAAN,CAAc,cAAd,EAFF,wDA3Ba,2CAgCb,mBACE,2BAAK,SAAS,CAAC,KAAf,eACE,oBAAC,cAAD,MADF,cAEE,8BAAQ,SAAS,CAAC,YAAlB,eAEE,oEAFF,cAGE,2BAAK,SAAS,CAAC,aAAf,eACA,8BAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAEJ,SAA5C,cADA,cAEA,8BAAQ,SAAS,CAAC,eAAlB,CAAkC,OAAO,CAAEK,QAA3C,gBAFA,CAHF,CAFF,CADF,CAmBD,CAED,cAAe5B,CAAAA,iBAAiB,CAACO,GAAD,CAAhC","sourcesContent":["import React, {useEffect} from 'react';\nimport './App.css';\nimport Amplify, {API} from 'aws-amplify';\nimport { withAuthenticator, AmplifySignOut } from '@aws-amplify/ui-react';\nimport awsconfig from './aws-exports';\nimport Toast from 'light-toast';\nimport * as mutations from './graphql/mutations';\nimport * as queries from './graphql/queries';\nAmplify.configure(awsconfig);\n\n\nfunction App() {\n\n  const todoUpdateYes = {\n    name: 'Subscribe',\n    value: 'Yes'\n  };\n  \n  const todoUpdateNo = {\n    name: 'Subscribe',\n    value: 'No'\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n    const newTodo = await API.graphql({ query: queries.listTodos});\n    // console.log(newTodo);\n    const temp = Math.floor(Math.random() * 6) + 1 \n    console.log(temp);\n  }\n  fetchData();\n  }, []);\n\n  async function updateYes () {\n    await API.graphql({ query: mutations.createTodo, variables: {input: todoUpdateYes}});\n    Toast.success('Subscribed' );\n  }\n\n  async function updateNo () {\n    await API.graphql({ query: mutations.createTodo, variables: {input: todoUpdateNo}});\n    Toast.success('Unsubscribed');\n  }\n\n  return (\n    <div className=\"App\">\n      <AmplifySignOut />\n      <header className=\"App-header\">\n        \n        <h1>Would you like to subscribe emails?</h1>\n        <div className=\"App-buttons\">\n        <button className=\"App-buttonsYes\" onClick={updateYes}>Subscribe</button>\n        <button className=\"App-buttonsNo\" onClick={updateNo}>Unsubscribe</button>\n        </div>\n\n        {/* <h1>Send IoT Data</h1>\n        <div className=\"App-buttons\">\n        <button className=\"App-buttonsYes\" onClick={updateYes}>Start</button>\n        <button className=\"App-buttonsNo\" onClick={updateNo}>Stop</button>\n        </div> */}\n      </header>\n    </div>\n  );\n}\n\nexport default withAuthenticator(App);\n"]},"metadata":{},"sourceType":"module"}